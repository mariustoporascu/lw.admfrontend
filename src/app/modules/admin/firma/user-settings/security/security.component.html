<div class="w-full max-w-3xl">
	<!-- Alert -->
	<fuse-alert
		class="mt-8"
		*ngIf="showAlert"
		[appearance]="'outline'"
		[showIcon]="false"
		[type]="alert.type"
		[dismissible]="true"
	>
		{{ alert.message }}
	</fuse-alert>
	<!-- Form -->
	<form [formGroup]="securityForm" #securityNgForm="ngForm">
		<!-- Section -->
		<div class="w-full">
			<div class="text-xl">Schimba-ti parola</div>
		</div>
		<div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
			<!-- Current password -->
			<div class="sm:col-span-4">
				<!-- Password Old -->
				<mat-form-field class="w-full">
					<mat-label>Parola veche</mat-label>
					<input
						id="password"
						matInput
						type="password"
						[formControlName]="'password'"
						#passwordField
					/>
					<button
						mat-icon-button
						type="button"
						(click)="
							passwordField.type === 'password'
								? (passwordField.type = 'text')
								: (passwordField.type = 'password')
						"
						matSuffix
					>
						<mat-icon
							class="icon-size-5"
							*ngIf="passwordField.type === 'password'"
							[svgIcon]="'heroicons_solid:eye'"
						></mat-icon>
						<mat-icon
							class="icon-size-5"
							*ngIf="passwordField.type === 'text'"
							[svgIcon]="'heroicons_solid:eye-off'"
						></mat-icon>
					</button>
					<mat-error *ngIf="securityForm.get('password').hasError('required')">
						Parola veche este obligatorie
					</mat-error>
					<mat-error *ngIf="securityForm.get('password').hasError('pattern')">
						Parola trebuie sa contina minim 8 caractere, cel putin o litera mare, un
						numar si un caracter special(!@#$%^&*)</mat-error
					>
				</mat-form-field>
			</div>
			<!-- New password -->
			<div class="sm:col-span-4">
				<!-- Password New -->
				<mat-form-field class="w-full">
					<mat-label>Parola noua</mat-label>
					<input
						id="newPassword"
						matInput
						type="password"
						[formControlName]="'newPassword'"
						#newPasswordField
					/>
					<button
						mat-icon-button
						type="button"
						(click)="
							newPasswordField.type === 'password'
								? (newPasswordField.type = 'text')
								: (newPasswordField.type = 'password')
						"
						matSuffix
					>
						<mat-icon
							class="icon-size-5"
							*ngIf="newPasswordField.type === 'password'"
							[svgIcon]="'heroicons_solid:eye'"
						></mat-icon>
						<mat-icon
							class="icon-size-5"
							*ngIf="newPasswordField.type === 'text'"
							[svgIcon]="'heroicons_solid:eye-off'"
						></mat-icon>
					</button>
					<mat-error *ngIf="securityForm.get('newPassword').hasError('required')">
						Parola noua este obligatorie
					</mat-error>
					<mat-error *ngIf="securityForm.get('newPassword').hasError('pattern')">
						Parola trebuie sa contina minim 8 caractere, cel putin o litera mare, un
						numar si un caracter special(!@#$%^&*)</mat-error
					>
				</mat-form-field>
			</div>
			<!-- Confirm new password -->
			<div class="sm:col-span-4">
				<!-- Password confirm field -->
				<mat-form-field class="w-full">
					<mat-label>Confirma Parola Noua</mat-label>
					<input
						id="password-confirm"
						matInput
						type="password"
						[formControlName]="'passwordConfirm'"
						#passwordConfirmField
					/>
					<button
						mat-icon-button
						type="button"
						(click)="
							passwordConfirmField.type === 'password'
								? (passwordConfirmField.type = 'text')
								: (passwordConfirmField.type = 'password')
						"
						matSuffix
					>
						<mat-icon
							class="icon-size-5"
							*ngIf="passwordConfirmField.type === 'password'"
							[svgIcon]="'heroicons_solid:eye'"
						></mat-icon>
						<mat-icon
							class="icon-size-5"
							*ngIf="passwordConfirmField.type === 'text'"
							[svgIcon]="'heroicons_solid:eye-off'"
						></mat-icon>
					</button>
					<mat-error
						*ngIf="securityForm.get('passwordConfirm').hasError('required')"
					>
						Confirmarea parolei este obligatorie
					</mat-error>
					<mat-error
						*ngIf="securityForm.get('passwordConfirm').hasError('mustMatch')"
					>
						Parolele trebuie sa fie identice
					</mat-error>
				</mat-form-field>
			</div>
		</div>

		<!-- Divider -->
		<div class="my-10 border-t"></div>

		<!-- Actions -->
		<div class="flex items-center justify-end">
			<button
				class="ml-4"
				mat-flat-button
				type="submit"
				[color]="'primary'"
				(click)="changePassword()"
			>
				<mat-icon [svgIcon]="'feather:save'"></mat-icon>
			</button>
		</div>
	</form>
</div>
